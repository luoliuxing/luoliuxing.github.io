<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="css/piaowu.css" />
		<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
	</head>

	<body>
		<div id="tou">
			<div id="t1">
				<h3 class="kk">青柠音乐</h3>
			</div>
			<ul class="u1" role="nav">
				<li class="l1">
					<a href="index.html" class="a1" title="音乐馆">音乐馆</a>
				</li>
				<li class="l1">
					<a href="mymusic.html" class="a1" title="我的音乐">我的音乐</a>
				</li>
				<li class="l1">
					<a href="kehuduan.html" class="a1" title="客户端">客户端</a>
				</li>
				<li class="l1" style="background: #31C27C;">
					<a href="#" class="a1" title="票务" style=" color: white;">票务</a>
				</li>
				<li class="l1">
					<a href="#" class="a1" title="VIP">VIP</a>
				</li>
			</ul>
			<a href="#">
				<div id="t2">
					<h5 style="margin: 0;">开通付费包</5>
		        </div>
	        </a>
	        <a href="#">
				<div id="t3">
		        	<h5 style="margin: 0;">开通绿钻豪华版</5>
		        </div>
	        </a>
	        <div class="t4"></div>
	        	<input type="text" name="search" placeholder="搜索音乐、MV、歌单、用户">
		</div>
		<!----------------------------------------------------分界线---------------------------------------------------->
		<div class="box">

		<div class="list">
			<ul>
				<li class="p7"><a href="#"><img src="img/lb-1.png" alt="" /></a></li>
				<li class="p6"><a href="#"><img src="img/lb-2.png" alt="" /></a></li>
				<li class="p5"><a href="#"><img src="img/lb-3.png" alt="" /></a></li>
				<li class="p4"><a href="#"><img src="img/lb-4.jpg" alt="" /></a></li>
				<li class="p3"><a href="#"><img src="img/lb-5.jpg" alt="" /></a></li>
				<li class="p2"><a href="#"><img src="img/lb-6.jpg" alt="" /></a></li>
				<li class="p1"><a href="#"><img src="img/lb-7.jpg" alt="" /></a></li>
			</ul>
		</div>
	
		<a href="javascript:;" class="prev btn"><</a>
		<a href="javascript:;" class="next btn">></a>
	
		<div class="buttons">
			<a href="javascript:;"><span class="blue"></span></a>
			<a href="javascript:;"><span></span></a>
			<a href="javascript:;"><span></span></a>
			<a href="javascript:;"><span></span></a>
			<a href="javascript:;"><span></span></a>
			<a href="javascript:;"><span></span></a>
			<a href="javascript:;"><span></span></a>
		</div>
		
		</div>
		<div class="sspw">
			<div class="diqu">
				<span>广州</span>
				<img src="img/下.png"/>
			</div>
			<div class="sspwk">
				<input type="text" name="search" placeholder="搜索票务">
				<div>
					<img src="img/sousuo.png"/>
				</div>
			</div>
			<div class="wddd"><a href="#">我的订单 ></a></div>
		</div>
		<div class="pwbiaoqian">
			<div style="margin-left: 120px;">
				<a href="#" style="color: #31C27C;">全部</a>
			</div>
			<div>
				<a href="#">演唱会</a>
			</div>
			<div>
				<a href="#">LiveHouse</a>
			</div>
			<div>
				<a href="#">音乐会</a>
			</div>
			<div>
				<a href="#">舞蹈芭蕾</a>
			</div>
			<div>
				<a href="#">话剧歌剧</a>
			</div>
			<div>
				<a href="#">其他演出</a>
			</div>
		</div>
		
		<div class="rmtj">
			<p style="font-size: 30px; text-align: center; letter-spacing: 20px;">热门推荐</p>
			<div class="vv">
				<div class="vv-zhuo">
					<img src="img/pw-1.jpg" height="460px" width="350px" style=" position:absolute; z-index:1;"/>
					<div class="vv-zhuo-x">
						<p style="color: white; font-size: 20px;">2018张学友[A CLASSIC TOUR 学友·经典]巡回演唱会-苏州站</p>
						<p style="font-size: 30px; margin-top: 30px;">
								<span style="color: #31C27C;">￥380</span>
								<span style="color: white; background: #31C27C; padding: 5px;">购买</span>
						</p>
					</div>
				</div>
				<div class="vv-you">
					<div class="vv-you-x">
						<img src="img/pw-2.jpg" height="220px" width="150px"/>
						<div class="vv-you-x-z">
							<p style="line-height: 30px; height: 60px;">王力宏龙的传人2060世界巡回演唱会-广州站</p>
							<p style="margin-top: 60px; color: #A8A8A8;">2019.01.12</p>
							<p style="color: #A8A8A8;">海心沙亚运公园</p>
							<p style="font-size: 20px; margin-top: 20px;">
								<span style="color: #31C27C;">￥380</span>
								<span style="color: white; background: #31C27C; padding: 5px;">购买</span>
							</p>
						</div>
					</div>
					<div class="vv-you-x">
						<img src="img/pw-3.jpg" height="220px" width="150px"/>
						<div class="vv-you-x-z">
							<p style="line-height: 30px; height: 60px;">绝色莫文蔚巡回演唱会2018成都站</p>
							<p style="margin-top: 60px; color: #A8A8A8;">2018.12.01</p>
							<p style="color: #A8A8A8;">五粮液成都金融城演艺中心</p>
							<p style="font-size: 20px; margin-top: 20px;">
								<span style="color: #31C27C;">￥380</span>
								<span style="color: white; background: #31C27C; padding: 5px;">购买</span>
							</p>
						</div>
					</div>
					<div class="vv-you-x">
						<img src="img/pw-4.jpg" height="220px" width="150px"/>
						<div class="vv-you-x-z">
							<p style="line-height: 30px; height: 60px;">汪峰2018“就这样”巡回演唱会-南京站</p>
							<p style="margin-top: 60px; color: #A8A8A8;">2019.01.12</p>
							<p style="color: #A8A8A8;">南京奥林匹克体育中心·体育馆</p>
							<p style="font-size: 20px; margin-top: 20px;">
								<span style="color: #31C27C;">￥380</span>
								<span style="color: white; background: #31C27C; padding: 5px;">购买</span>
							</p>
						</div>
					</div>
					<div class="vv-you-x">
						<img src="img/pw-5.jpg" height="220px" width="150px"/>
						<div class="vv-you-x-z">
							<p style="line-height: 30px; height: 60px;">鹿晗2018“RE:X”巡回演唱会 深圳站</p>
							<p style="margin-top: 60px; color: #A8A8A8;">2018.11.09</p>
							<p style="color: #A8A8A8;">华润深圳湾体育中心"春茧"体育场</p>
							<p style="font-size: 20px; margin-top: 20px;">
								<span style="color: #31C27C;">¥ 377 起</span>
								<span style="color: white; background: #31C27C; padding: 5px;">购买</span>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="rmtj">
			<p style="font-size: 30px; text-align: center; letter-spacing: 20px;">演唱会</p>
			<div class="vv">
				<div class="vv-zhuo">
					<img src="img/pw-8.jpg" height="460px" width="350px" style=" position:absolute; z-index:1;"/>
					<div class="vv-zhuo-x">
						<p style="color: white; font-size: 20px;">郭富城“舞林密码”世界巡回演唱会2018—广州站</p>
						<p style="font-size: 30px; margin-top: 30px;">
								<span style="color: #31C27C;">¥ 480 起</span>
								<span style="color: white; background: #31C27C; padding: 5px;">购买</span>
						</p>
					</div>
				</div>
				<div class="vv-you">
					<div class="vv-you-x">
						<img src="img/pw-7.jpg" height="220px" width="150px"/>
						<div class="vv-you-x-z">
							<p style="line-height: 30px; height: 60px;">许冠杰·谭咏麟 巡回演唱会-广州站</p>
							<p style="margin-top: 60px; color: #A8A8A8;">2018.12.15</p>
							<p style="color: #A8A8A8;">广州珠江新城海心沙</p>
							<p style="font-size: 20px; margin-top: 20px;">
								<span style="color: #31C27C;">¥ 488 起</span>
								<span style="color: white; background: #31C27C; padding: 5px;">购买</span>
							</p>
						</div>
					</div>
					<div class="vv-you-x">
						<img src="img/pw-6.jpg" height="220px" width="150px"/>
						<div class="vv-you-x-z">
							<p style="line-height: 30px; height: 60px;">OWL CITY CINEMATIC TOUR 2018猫头鹰之城电影之旅巡回演唱会 广州站</p>
							<p style="margin-top: 60px; color: #A8A8A8;">2018.11.24</p>
							<p style="color: #A8A8A8;">宝能国际体育演艺中心</p>
							<p style="font-size: 20px; margin-top: 20px;">
								<span style="color: #31C27C;">￥380</span>
								<span style="color: white; background: #31C27C; padding: 5px;">购买</span>
							</p>
						</div>
					</div>
					<div class="vv-you-x">
						<img src="img/pw-9.jpg" height="220px" width="150px"/>
						<div class="vv-you-x-z">
							<p style="line-height: 30px; height: 60px;">Nights with AGA 演唱会广州站</p>
							<p style="margin-top: 60px; color: #A8A8A8;">2018.12.08</p>
							<p style="color: #A8A8A8;">广州体育馆</p>
							<p style="font-size: 20px; margin-top: 20px;">
								<span style="color: #31C27C;">¥ 280 起</span>
								<span style="color: white; background: #31C27C; padding: 5px;">购买</span>
							</p>
						</div>
					</div>
					<div class="vv-you-x">
						<img src="img/pw-10.jpg" height="220px" width="150px"/>
						<div class="vv-you-x-z">
							<p style="line-height: 30px; height: 60px;">卢巧音《RE：TURN》演唱会广州站</p>
							<p style="margin-top: 60px; color: #A8A8A8;">2018.11.03</p>
							<p style="color: #A8A8A8;">中山纪念堂</p>
							<p style="font-size: 20px; margin-top: 20px;">
								<span style="color: #31C27C;">¥ 280 起</span>
								<span style="color: white; background: #31C27C; padding: 5px;">购买</span>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	<script type="text/javascript">
		var $a=$(".buttons a");
		var $s=$(".buttons span");
		var cArr=["p7","p6","p5","p4","p3","p2","p1"];
		var index=0;
		$(".next").click(
			function(){
			nextimg();
			}
		)
		$(".prev").click(
			function(){
			previmg();
			}
		)
		//上一张
		function previmg(){
			cArr.unshift(cArr[6]);
			cArr.pop();
			//i是元素的索引，从0开始
			//e为当前处理的元素
			//each循环，当前处理的元素移除所有的class，然后添加数组索引i的class
			$(".list li").each(function(i,e){
				$(e).removeClass().addClass(cArr[i]);
			})
			index--;
			if (index<0) {
				index=6;
			}
			show();
		}
		
		//下一张
		function nextimg(){
			cArr.push(cArr[0]);
			cArr.shift();
			$(".list li").each(function(i,e){
				$(e).removeClass().addClass(cArr[i]);
			})
			index++;
			if (index>6) {
				index=0;
			}
			show();
		}
		
		//通过底下按钮点击切换
		$a.each(function(){
			$(this).click(function(){
				var myindex=$(this).index();
				var b=myindex-index;
				if(b==0){
					return;
				}
				else if(b>0) {
					/*
					 * splice(0,b)的意思是从索引0开始,取出数量为b的数组
					 * 因为每次点击之后数组都被改变了,所以当前显示的这个照片的索引才是0
					 * 所以取出从索引0到b的数组,就是从原本的这个照片到需要点击的照片的数组
					 * 这时候原本的数组也将这部分数组进行移除了
					 * 再把移除的数组添加的原本的数组的后面
					 */
					var newarr=cArr.splice(0,b);
					cArr=$.merge(cArr,newarr);
					$(".list li").each(function(i,e){
					$(e).removeClass().addClass(cArr[i]);
					})
					index=myindex;
					show();
				}
				else if(b<0){
					/*
					 * 因为b<0,所以取数组的时候是倒序来取的,也就是说我们可以先把数组的顺序颠倒一下
					 * 而b现在是负值,所以取出索引0到-b即为需要取出的数组
					 * 也就是从原本的照片到需要点击的照片的数组
					 * 然后将原本的数组跟取出的数组进行拼接
					 * 再次倒序,使原本的倒序变为正序
					 */
					cArr.reverse();
					var oldarr=cArr.splice(0,-b)
					cArr=$.merge(cArr,oldarr);
					cArr.reverse();
					$(".list li").each(function(i,e){
					$(e).removeClass().addClass(cArr[i]);
					})
					index=myindex;
					show();
				}
			})
		})
		
		//改变底下按钮的背景色
		function show(){
				$($s).eq(index).addClass("blue").parent().siblings().children().removeClass("blue");
		}
		
		//点击class为p2的元素触发上一张照片的函数
		$(document).on("click",".p2",function(){
			previmg();
			return false;//返回一个false值，让a标签不跳转
		});
		
		//点击class为p4的元素触发下一张照片的函数
		$(document).on("click",".p4",function(){
			nextimg();
			return false;
		});
		
		//			鼠标移入box时清除定时器
		$(".box").mouseover(function(){
			clearInterval(timer);
		})
		
		//			鼠标移出box时开始定时器
		$(".box").mouseleave(function(){
			timer=setInterval(nextimg,4000);
		})
		
		//			进入页面自动开始定时器
		timer=setInterval(nextimg,4000);
	</script>
	</body>
</html>